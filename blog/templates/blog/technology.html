{% extends 'base.html' %}
{% load static %}

{% block title %}Texnologiya X…ôb…ôrl…ôri v…ô Yenilikl…ôr{% endblock %}

{% block extraCss %} 
    <link rel="stylesheet" href="{% static 'css/technology.css' %}">
    {# Paginasiya CSS-ni buraya …ôlav…ô etdik #}
    <link rel="stylesheet" href="{% static 'css/pagination.css' %}">
{% endblock %} 

{% block content %}
<div class="blog-container">

    <header class="page-header">
        <h1 class="main-title">Texnologiya D√ºnyasƒ±</h1>
        <p class="sub-title">
            S√ºni intellekt, proqramla≈üdƒ±rma, yeni qadjetl…ôr v…ô r…ôq…ômsal d√ºnya haqqƒ±nda …ôn son analizl…ôr.
        </p>
    </header>

    <section class="blog-grid">
        {# Dƒ∞QQ∆èT: 'posts' …ôv…ôzin…ô 'page_obj' istifad…ô edirik #}
        {% for post in page_obj %}
            <article class="blog-card">
                <div class="card-img-wrapper">
                    <a href="{% url 'post_detail' post.slug %}">
                        
                        <img 
                            src="{{ post.get_image }}" 
                            alt="{{ post.title }}" 
                            class="card-img-top"
                            onerror="this.onerror=null; this.src='{% static 'images/tech-placeholder.svg' %}';"
                        >
                
                    </a>
                    
                    {% if post.category %}
                        <span class="category-badge">{{ post.category.name }}</span>
                    {% endif %}
                </div>

                <div class="card-body">
                    <div class="card-meta">
                        <span class="meta-date">üìÖ {{ post.created_at|date:"d M Y" }}</span>
                        <span class="meta-rating">‚òÖ {{ post.average_rating|floatformat:1 }}</span>
                    </div>

                    <h2 class="card-title">
                        <a href="{% url 'post_detail' post.slug %}">{{ post.title }}</a>
                    </h2>
                    
                    <p class="card-excerpt">
                        {{ post.excerpt|truncatewords:20 }}
                    </p>
                    
                    <div class="card-footer">
                        <div class="author-info">
                            <span class="author-avatar">üë§</span> 
                            <a href="{% url 'user_profile' post.author.username %}">  
                                <span class="author-name">{{ post.author.username|title }}</span> 
                            </a>
                        </div>
                        <a href="{% url 'post_detail' post.slug %}" class="read-more-btn">Oxu &rarr;</a>
                    </div>
                </div>
            </article>

        {% empty %}
            <div class="empty-state">
                <h3>H…ôl…ô ki, bu kateqoriyada m…ôqal…ô yoxdur.</h3>
                <p>Tezlikl…ô yeni m…ôqal…ôl…ôr …ôlav…ô olunacaq. Bizi izl…ôm…ôy…ô davam edin!</p>
            </div>
        {% endfor %}
    </section>

   
    {% include "partials/_pagination.html" %}

</div>
{% endblock %}